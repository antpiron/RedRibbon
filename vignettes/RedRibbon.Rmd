---
title: "RedRibbon: a rank-rank hypergeometric overlap libray"
author: "Anthony Piron"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{RedRibbon}
  %\VignetteEngine{knitr::knitr}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# Synopsis


Load the library with

```{r Library loading}
library(RedRibbon)
```

Prepare a synthetic dataset in a data.frame `df`,

```{r dataset, results='hide'}
a <- (1:1000) - 500
b <- a
a[250:749] <- rnorm(500, sd=100)
b[250:749] <- rnorm(500, sd=100)
df <- data.frame(
	a = a,
	b = b)
```

`df` contains half features perfectly matching perfectly between `a` and `b` and the remaining elements are random,
	
```{r df}
head(df)
```

Create an S3 RedRibbon object,

```{r s3, results='hide'}
rr <- RedRibbon(df)
```

Compute the enrichment and adjusted p-value with the `permutation` option,

```{r enrichment, results='hide'}
## computing the enrichment
quad <- quadrants(rr, algorithm="ea", permutation=TRUE)
```

Plots the results,

```{r ggplot}
## ploting the map
gg <- ggplot(rr, quadrants=quad) + coord_fixed(ratio = 1)
gg
```

The `gg` variable contains a standard ggplot2 object,
```{r class ggplot}
class(gg)
```

It can be manipulated a such, for example, with `+ coord_fixed(ratio = 1)` to fix the aspect ratio of the plot.

